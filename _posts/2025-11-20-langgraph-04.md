---
layout: single
title: "[LangGraph] 메타데이터 추가 후 데이터 전처리"
categories: LangGraph
tags: [LangGraph]
toc: true
---

## 메타데이터 추가
- 졸업 요건 중 전공에 해당하는 부분들은 "major": "학과이름" 으로 메타데이터 추가
- 공통 부분들은 "major" : "공통"으로 메타데이터 추가
```python
retriever_common = vector_store.as_retriever(search_kwargs={'k': 2,
                                                            'filter': {'major': "공통"}})
retriever_common.invoke("졸업요건")
```

```markdown
[Document(id='818f98c0-af0b-4ab4-b1bb-4d0a6b37f400', metadata={'major': '공통', 'catalog_year': '2024'}, page_content='163 -\n\n▢ 비교과 인증\n1) 졸업을 위하여서는 졸업에 필요한 소정의 전 과정을 이수하고 비교과인증을 획득하여야 함.\n| 졸업 요건 | 내 용 | 비 고 |\n|---|---|---|\n| 비교과인증 | 1. 1학년 CREOS 캠프2. 2학년 SKON 캠프3. 3학년 DREAM 캠프※ 1 ~ 3 미이수 시 별도 요건을 충족하여야 함 | ※ 캠프별 이수기준에 따름 |\n2) 적용 대상 : 2017학년도 입학자부터 적용\n※ 편입생, 외국인유학생, 계약학과, 재직자특별전형 재학생 제외\n※ SKON캠프, DREAM캠프 면제 : 군사학과, 예술대학, 공연예술대학, 디자인&영상대학, 미용예술대학, 융합대학(스포츠엔터크놀로지학과, 아트앤테크놀로지학과) 소속 학생\n▢ 외국어 졸업요건\n\n영역별 요건\n\n| 구분 | 내 용 | 비 고 |\n|---|---:|---|\n| 외국어 졸업요건 (택 1) | 영어, 일본어, 중국어 중 공인어학성적 취득 (택1) | ※ 각 단과대학별 요건 적용 |\n|  | ·대체인정 교과목 4학점 이수 | ※ 인정기준· 동일언어 및 동일교과 2과목 이수· 각 교과목 평점 3.0(Bo) 이상(2023학년도 입학자부터 적용) |\n\n공인어학성적별 졸업요건'),
 Document(id='1ff4eb42-5fe5-4d74-a840-9c90b38f7a53', metadata={'major': '공통', 'catalog_year': '2024'}, page_content='공인어학성적별 졸업요건\n\n| 대 학 | 졸업요건(택1) |  | 영어 |  |  | 일본어 |  | 중국어 |  |\n|---|---:|---:|---:|---:|---:|---:|---:|---:|---:|\n|  |  | TOEIC | TOEIC Speaking | TOEFL | Opic | IELTS | JPT | JLPT | TSC | HSK |\n| 인문사회과학대학 | 공통 | 700점 이상 | Intermediate Mid 1,2,3 이상 | 94점 이상 | Intermediate Mid 1,2,3 이상 | 7 이상 | 650점 이상 | N2 이상 | 3급 이상 | 5급(180점) 이상 |\n|  | 영어전공 | 800점 이상 | Intermediate High 이상 | 106점 이상 | Intermediate High 이상 | 8 이상 | 650점 이상 | N2 이상 | 3급 이상 | 5급(180점) 이상 |\n|  | 일어전공 | 700점 이상 | Intermediate Mid 1,2,3 이상 | 94점 이상 | Intermediate Mid 1,2,3 이상 | 7 이상 | 700점 이상 | N1 이상 | 3급 이상 | 5급(180점) 이상 |\n| 이공대학 |  | 600점 이상 | Intermediate Low 이상 | 60점 이상 | Intermediate Low 이상 | 6 이상 | 650점 이상 | N2 이상 | 3급 이상 | 5급(180점) 이상 |\n※ 글로벌비즈니스어학부, 예체능계열, 계약학과, 외국인유학생, 특성화고졸재직자전형 입학생은 제외.\n※ 기존 영어특성화 명칭변경, 전산특성화 전학번 폐지.\n\n164 -\n\n□ 편입생 학점인정 안내\n\n\n교양교육과정은 모두 이수한 것으로 인정한다.\n\n\n편입학한 학번에 해당하는 재학생의 교육과정을 따르되 전적대학 전공인정학점을 제외한 전공최저이수학점과 전적대학 인정학점을 제외한 졸업최저이수학점을 이수하여야 한다.')]
```

- 실제 문서에서는 학번, 단과대, 과 마다 졸업 요건이 다르기에 해당내용으로 아직 부족함
- 더욱 정확하게 메타데이터를 나누고 데이터 전처리 과정에 시간을 더 투자하여 원하는 문단만 가져올 수 있게 해야함