---
layout: single
title: "리눅스 시스템 모니터링"
categories: Linux
tags: [Linux]
toc: true
---

## 리눅스 시스템 모니터링

##### top

![top.png](/images/2025-11-09-Linux-02/top.png)

- ```bash
  top - 06:26:08 up 2:11,  1 user,  load average: 0.00, 0.00, 0.00
  ```

  - 현재시간
  -  up: 시스템이 켜진 시간
  - 1 user: 로그인한 사용자
  - load average: 0.00, 0.00, 0.00: 지난 1분/ 5분/ 15분 평균 시스템 부하

- ```bash
  Tasks: 206 total,   1 running, 205 sleeping,   0 stopped,   0 zombie
  ```

  - 206개의 프로세스 실행중 (1개 실행, 205개 대기, 좀비 프로세스 없음)

- ```bash
  %Cpu(s):  0.0 us,  0.2 sy,  0.0 ni, 99.8 id,  0.0 wa,  0.0 hi,  0.0 si,  0.0 st
  ```

  - us: 사용자 프로그램
  - sy: 커널
  - ni: nice 값이 있는 프로세스 (우선순위 (-20 ~ +19) 작을수록 우선순위가 높음 )
  - id: idle(쉬는 중)
  - wa: I/O 대기
  - hi: 하드웨어 인터럽트
  - si: 소프트웨어 인터럽트
  - st: steal time

- ```bash
  MiB Mem :  3868.2 total,  3208.8 free,  477.3 used,  328.0 buff/cache
  MiB Swap:  2954.0 total,  2954.0 free,  0.0 used.  3390.0 avail Mem
  ```

  - mem: 물리적 메모리, swap: 디스크
  - total: 전체 메모리
  - free: 남은 메모리
  - used: 사용중
  - buff/cache: 커널 캐시
  - swap: 가상 메모리

  

- ``` bash
  PID USER      PR  NI    VIRT    RES    SHR S  %CPU %MEM     TIME+ COMMAND
    746 root      20   0  315656   9344   7808 S   0.3  0.2   0:13.69 vmtoolsd
   1779 root      20   0       0      0      0 I   0.0  0.0   0:00.10 kworker/u257:0-events_freezable_power_
   1790 ubuntu    20   0   11944   5088   3712 R   0.3  0.1   0:02.11 top
  ```

  - PID: 프로세스id
  - USER: 실행 사용자
  - PR: 우선순위
  - NI: 우선순위 가중치
  - VIRT: 가상 메모리 사용량
  - RES: 실제 물리 메모리 사용량
  - SHR: 공유 메모리 사용량
  - S: 상태 (sleep, running, idle)
  - %CPU: cpu 점유율
  - %MEM: 메모리 점유율
  - %TIMR+: 누적 cpu사용시간
  - COMMAND: 실행중인 명령어 이름

##### top - shortcut

- q: top 종료
- h: 도움말 표시
- space : 화면 새로고침
- shift+P: CPU사용량 순서로 정렬
- shift+M: 메모리 사용량 순서로 정렬
- shift+T: 실행시 순서로 정렬
- shift+N: 프로세스 ID 순서로 정렬
- K: 프로세스 종료 
- R: 프로세스 우선순위 값 변경
- 1: 각 CPU 코어별 사용률 표시/숨기기
- C: 실행중인 명령의 전체 경로 표시/숨기기
- F: 표시할 컬럼 필드 선택 메뉴 열기
- O: 정렬 기준 컬럼 변경
- U: 특정 사용자 기준으로 필터링
- N: 출력할 프로세스 개수 지정
- D: 새로고침 주기 변경 (기본 3초)
- shift+R: 정렬 순서 반전
- shift+W: 현재 설정을 저장
