---
layout: single
title: "[LangGraph] 웹 크롤링 Firecrawl vs html2text"
categories: LangGraph
tags: [LangGraph]
toc: true
---

## 성능 비교

### FireCrawl
```python
from langchain_community.document_loaders import FireCrawlLoader
from dotenv import load_dotenv
import os
load_dotenv()

FIRECRAWL_API_KEY = os.getenv("FIRECRAWL_API_KEY")

# 2. Loader 설정
# mode="scrape": 해당 페이지 하나만 
# mode="crawl": 해당 링크의 하위 페이지까지 전부 (
loader = FireCrawlLoader(
    url="https://www.skuniv.ac.kr/course-registration",
    mode="scrape", 
    api_key=FIRECRAWL_API_KEY
)

# 3. 로드 (자동으로 마크다운 변환됨)
docs = loader.load()

# 결과 확인
print(docs[0])
```

```markdown
## 수강

### **수강신청**

매 학기 수강신청에 관한 자세한 사항은 홈페이지 공지사항을 참조하시기 바랍니다.

#### **수강신청 기간**

- 매 학기 공지되는 수강신청 기간 내에 반드시 신청해야 한다.(수강신청을 하지 않아 따르는 책임은 학생본인에게 있습니다.)
- 수강신청을 하지 않은 경우, 모든 수업은 결석 처리되며, 이후 변경 기회도 주어지지 않는다.

#### **신청 가능 학점**

- 일반 학과: 학기당 12~19학점
- 미래융합1,2 및 자유전공학부 : 학기당 12~20학점
- 졸업학기에는 최소 9학점 이상 신청해야 한다.

주의사항

• 직전학기에 15학점 미만(7학기 학생은 12학점 미만) 이수한 경우, 성적장학금 및 포상 대상에서 제외된다.

• 학사경고를 받은 학생은 최대 15학점까지만 수강신청 할 수 있다. 단, 지도교수 상담 후 CREOS CARE 프로그램을 이수한 경우 예외가 적용된다.


※ 주의사항

- 직전학기에 15학점 미만(7학기 학생은 12학점 미만) 이수한 경우, 성적장학금 및 포상 대상에서 제외된다.
- 학사경고를 받은 학생은 최대 15학점까지만 수강신청 할 수 있다. 단, 지도교수 상담 후 CREOS CARE 프로그램을 이수한 경우 예외가 적용된다.

#### **수강신청 방법 및 유의사항**

- 지도교수와 학과장에게 수강 지도를 받은 후, 학번과 비밀번호를 입력해 로그인한다. (※ 최초의 비밀번호는 주민등록번호 뒷자리 7자리이며 반드시 변경하기 바랍니다.) 개인정보(주소, 연락처 등)가 변경된 경우, 수강신청 전 직접 수정해야 한다.
- 정원제 운영으로 인해 수강 정정이 불가할 수 있으므로, 신중하게 신청해야 한다. 수강신청 후에는 내역을 반드시 확인해야 한다.
- 이수구분(전공/교양 등)을 정확히 확인하여, 졸업학점 이수에 문제가 없도록 주의한다.

#### **9차 이상 등록자(9학기 이상 등록한 학생)**

- 졸업에 필요한 학점을 이수하지 못해 9학기 이상 등록하는 경우, 반드시 매 학기 수강신청을 해야 한다.
- 등록금은 수강학점에 따라 다음과 같이 차등 납부된다.

| 수강 학점 (졸업논문 포함) | 등록금 납부 기준 |
| --- | --- |
| 1~3학점 | 계절학기 시간당 등록금 상당액 |
| 4~6학점 | 정규 등록금의 1/3 |
| 7~9학점 | 정규 등록금의 1/2 |
| 10학점 이상 | 정규 등록금 전액 |

※ 납부금액 중 1,000원 미만은 절사

#### **수강신청의 변경**

- 수강신청 정정은 정정기간 내에만 가능하며, 이후에는 원칙적으로 변경할 수 없다.
- 수강신청 과목을 철회하고자 하는 경우
  - 개강 후 지정된 기간 내, 서경종합정보시스템에서 직접 철회해야 한다.
  - 단, 철회 후에도 최소학점(12학점) 이상 유지해야 하며, 폐강 기준 인원 미만인 과목은 철회가 불가능하다
- 졸업예정자는 철회로 인해 졸업학점에 차질이 없는지 반드시 확인해야 한다.

### **재수강**

- 재수강은 평점이 2.5(C+)이하인 학수번호가 동일한 교과목에 한한다.
- 기 이수 교과목의 성적은 재수강 신청학기 성적발표와 동시에 “N/A”로 대체하여 표기하고, 취득학점 및 평점평균의 산출에는 반영하지 아니하며, 재수강 교과목은 “R”을 부가하여 표기한다.
- 2016학년도 입학자부터는 재수강 성적이 A0를, 2017학년도 입학자부터는 재수강 성적이 B+를 초과할 수 없으며, 한 학기당 6학점까지만 신청 가능하다.
- 재수강 횟수는 과목당 2회로 제한하며, 졸업필수 교과목 및 F학점 교과목에 대해서는 예외로 할 수 있다.

참고사항

• 신청기간은 매 학기 수강신청기간에 한하여 신청할 수 있다.

• 어학 및 컴퓨터실습 등의 교과목인 경우는 수강인원 제한이 있으므로 유의해야 한다.


### **대체재수강**

- 교과과정 개편에 따라 폐지된 교과목은 대체 지정된 교과목으로 이수하여야 한다. 다만, 2016학년도 입학자부터는 대체재수강 성적이 A0를, 2017학년도 입학자부터는 대체재수강 성적이 B+를 초과할 수 없으며, 재수강을 포함하여 한 학기당 6학점까지만 신청 가능하다
- 기 이수 교과목의 성적은 대체재수강 신청학기 성적발표와 동시에 “N/A”로 대체하여 표기하고, 취득학점 및 평점평균의 산출에는 반영하지 아니하며, 대체재수강 교과목은 “R”을 부가하여 표기한다.
```

### html2text

```python
import requests
import html2text
from langchain_core.documents import Document

# 1. URL에서 HTML 가져오기
url = "https://www.skuniv.ac.kr/course-registration"
response = requests.get(url)
html_content = response.text

# 2. HTML을 마크다운으로 변환 
h = html2text.HTML2Text()
h.ignore_links = False      # 링크 유지 여부
h.ignore_images = True      # 이미지 무시 여부
markdown_content = h.handle(html_content)

# 3. LangChain Document 객체로 생성
docs = [Document(page_content=markdown_content, metadata={"source": url})]

# 결과 확인 (마크다운 형식으로 출력됨)
print(docs[0])
```

```markdown
## 수강

### **수강신청**

매 학기 수강신청에 관한 자세한 사항은 홈페이지 공지사항을 참조하시기 바랍니다.

#### **수강신청 기간**

  * 매 학기 공지되는 수강신청 기간 내에 반드시 신청해야 한다.(수강신청을 하지 않아 따르는 책임은 학생본인에게 있습니다.)
  * 수강신청을 하지 않은 경우, 모든 수업은 결석 처리되며, 이후 변경 기회도 주어지지 않는다.

#### **신청 가능 학점**

  * 일반 학과: 학기당 12~19학점
  * 미래융합1,2 및 자유전공학부 : 학기당 12~20학점
  * 졸업학기에는 최소 9학점 이상 신청해야 한다.

__ 주의사항

• 직전학기에 15학점 미만(7학기 학생은 12학점 미만) 이수한 경우, 성적장학금 및 포상 대상에서 제외된다.  
• 학사경고를 받은 학생은 최대 15학점까지만 수강신청 할 수 있다. 단, 지도교수 상담 후 CREOS CARE 프로그램을 이수한 경우
예외가 적용된다.

※ 주의사항

  * 직전학기에 15학점 미만(7학기 학생은 12학점 미만) 이수한 경우, 성적장학금 및 포상 대상에서 제외된다.
  * 학사경고를 받은 학생은 최대 15학점까지만 수강신청 할 수 있다. 단, 지도교수 상담 후 CREOS CARE 프로그램을 이수한 경우 예외가 적용된다.

#### **수강신청 방법 및 유의사항**

  * 지도교수와 학과장에게 수강 지도를 받은 후, 학번과 비밀번호를 입력해 로그인한다. (※ 최초의 비밀번호는 주민등록번호 뒷자리 7자리이며 반드시 변경하기 바랍니다.) 개인정보(주소, 연락처 등)가 변경된 경우, 수강신청 전 직접 수정해야 한다.
  * 정원제 운영으로 인해 수강 정정이 불가할 수 있으므로, 신중하게 신청해야 한다. 수강신청 후에는 내역을 반드시 확인해야 한다.
  * 이수구분(전공/교양 등)을 정확히 확인하여, 졸업학점 이수에 문제가 없도록 주의한다.

#### **9차 이상 등록자(9학기 이상 등록한 학생)**

  * 졸업에 필요한 학점을 이수하지 못해 9학기 이상 등록하는 경우, 반드시 매 학기 수강신청을 해야 한다.
  * 등록금은 수강학점에 따라 다음과 같이 차등 납부된다.

수강 학점 (졸업논문 포함)| 등록금 납부 기준  
---|---  
1~3학점| 계절학기 시간당 등록금 상당액  
4~6학점| 정규 등록금의 1/3  
7~9학점| 정규 등록금의 1/2  
10학점 이상| 정규 등록금 전액  
※ 납부금액 중 1,000원 미만은 절사

#### **수강신청의 변경**

  * 수강신청 정정은 정정기간 내에만 가능하며, 이후에는 원칙적으로 변경할 수 없다.
  * 수강신청 과목을 철회하고자 하는 경우 
    * 개강 후 지정된 기간 내, 서경종합정보시스템에서 직접 철회해야 한다.
    * 단, 철회 후에도 최소학점(12학점) 이상 유지해야 하며, 폐강 기준 인원 미만인 과목은 철회가 불가능하다
  * 졸업예정자는 철회로 인해 졸업학점에 차질이 없는지 반드시 확인해야 한다.

### **재수강**

  * 재수강은 평점이 2.5(C+)이하인 학수번호가 동일한 교과목에 한한다.
  * 기 이수 교과목의 성적은 재수강 신청학기 성적발표와 동시에 “N/A”로 대체하여 표기하고, 취득학점 및 평점평균의 산출에는 반영하지 아니하며, 재수강 교과목은 “R”을 부가하여 표기한다.
  * 2016학년도 입학자부터는 재수강 성적이 A0를, 2017학년도 입학자부터는 재수강 성적이 B+를 초과할 수 없으며, 한 학기당 6학점까지만 신청 가능하다.
  * 재수강 횟수는 과목당 2회로 제한하며, 졸업필수 교과목 및 F학점 교과목에 대해서는 예외로 할 수 있다.

__ 참고사항

• 신청기간은 매 학기 수강신청기간에 한하여 신청할 수 있다.  
• 어학 및 컴퓨터실습 등의 교과목인 경우는 수강인원 제한이 있으므로 유의해야 한다.

### **대체재수강**

  * 교과과정 개편에 따라 폐지된 교과목은 대체 지정된 교과목으로 이수하여야 한다. 다만, 2016학년도 입학자부터는 대체재수강 성적이 A0를, 2017학년도 입학자부터는 대체재수강 성적이 B+를 초과할 수 없으며, 재수강을 포함하여 한 학기당 6학점까지만 신청 가능하다
  * 기 이수 교과목의 성적은 대체재수강 신청학기 성적발표와 동시에 “N/A”로 대체하여 표기하고, 취득학점 및 평점평균의 산출에는 반영하지 아니하며, 대체재수강 교과목은 “R”을 부가하여 표기한다.
```

### 결론
FireCrawl 가 표 형식을 더 잘 가져오므로 LLM을 더 잘 활용할 수 있음
|500크레딧을 제공해주므로 개인이 연습하는 용도로 문제 없어보임